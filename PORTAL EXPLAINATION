# ğŸ”¸ Imports ug Flask App Setup

from flask import Flask, request, redirect, url_for, session

app = Flask(__name__)
app.secret_key = "moko_ng_secret_key"
# â¡ Explanation 

# Flask â€“ mao ni ang web framework nga gigamit para makahimo og web app.

# request â€“ para kuhaon ang data gikan sa form (login form, edit grades, etc).

# redirect, url_for â€“ para mo-redirect sa lain nga route (pananglitan, human login, redirect sa dashboard).

# session â€“ gigamit para ma-save ang session data sa user (kinsa ni login, unsa iyang role).

# Ang app.secret_key importante para sa seguridad sa session â€” dili ni dapat ibutang lang og klaro sa production.

# ğŸ”¸ Users ug Students Data

users = {
    "admin": {"password": "password123", "role": "admin"},
    ...
}

students = [
    {"id": 1, "name": "Alvin...", "grades": {...}},
    ...
]
# â¡ Explanation:

# users â€“ dictionary sa mga registered users (admin, teacher, student) ug ilang roles.

# students â€“ list of dictionaries nga nagrepresenta sa mga estudyante ug ilang grades.

# Sa tinuod nga app, dapat naa ni sa database, pero para sa simple nga demo, static lang ni sila.

# ğŸ”¸ Home Route
@app.route('/')
def home():
    if 'username' in session:
        return redirect(url_for('dashboard'))
    return redirect(url_for('login'))
# â¡ Explanation:

# Kung naka-login na, i-redirect sa dashboard.

# Kung wala pa, i-redirect sa login.

# ğŸ”¸ Login Page
@app.route('/login', methods=['GET', 'POST'])
def login():
    ...
# â¡ Explanation:

# GET â€“ ipakita ang login form.

# POST â€“ kuhaon ang username/password gikan sa form ug i-check kung sakto ba.

# Kung valid, i-save sa session ang username ug role, then i-redirect sa dashboard.

# ğŸ”¸ Dashboard Route
@app.route('/dashboard')
def dashboard():
    ...
# â¡ Explanation:

# Based sa role (admin, teacher, student), i-redirect sa sakto nga dashboard.

# ğŸ”¸ Admin, Teacher, Student Dashboards

@app.route('/dashboard_admin')
def dashboard_admin():
    ...
# â¡ Explanation:

# Para lang sa admin â€“ makita niya tanang options: students, teachers, add user, etc.

# Teacher â€“ makatan-aw sa students ug grades.

# Student â€“ makakita sa iyang sariling grades lang.

# ğŸ”¸ List Students
@app.route('/students')
def list_students():
    ...
â¡ Explanation:

# Para lang sa admin ug teacher.

# Nagpakita sa list sa tanang students ug ilang grades.

# Naay option nga â€œEdit Gradesâ€.

# ğŸ”¸ Edit Grades
@app.route('/edit_grades/<int:student_id>', methods=['GET', 'POST'])
def edit_grades(student_id):
    ...
# â¡ Explanation:

# I-search ang student base sa id.

# GET â€“ ipakita ang form nga puno sa current grades.

# POST â€“ kuhaon ang bagong values ug i-update ang grades.

# ğŸ”¸ List Teachers
@app.route('/teachers')
def list_teachers():
    ...
# â¡ Explanation:

# Admin ra ang pwede makakita sa list sa mga teachers.

# ğŸ”¸ Add Student / Add Teacher
@app.route('/add_student', methods=['GET', 'POST'])
...
â¡ Explanation:

# Form para makadugang og bagong student o teacher.

# I-check kung unique ang username, i-assign og bagong id (para sa student).

# ğŸ”¸ Change Password
@app.route('/change_password', methods=['GET', 'POST'])
...
# â¡ Explanation:

# Tanang users pwede mag-ilis sa ilang password.

# I-check kung sakto ang current password, unya i-update ang bag-o.

# ğŸ”¸ Logout
@app.route('/logout')
def logout():
    ...
# â¡ Explanation:

# Tangtangon ang session data.

# I-logout ang user ug i-redirect balik sa login page.

# ğŸ”¸ Run the App
if __name__ == '__main__':
    app.run(debug=True)
â¡ Explanation:

# debug=True â€“ para sayon pag-troubleshoot (automatic reload ug error messages during development).

# âœ… Summary sa Functionalities:
# Role	Unsa'y mabuhat niya
# Admin	Tanang access â€“ students, teachers, add users
# Teacher	Tan-aw og edit sa students ug grades
# Student	Tan-aw sa iyang sariling grades lang

